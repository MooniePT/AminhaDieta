<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<VBox xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml" fx:controller="app.ui.controller.MealsController" spacing="10" styleClass="content-area">
    <Label text="Refeições" styleClass="label-header"/>

    <TabPane tabClosingPolicy="UNAVAILABLE" VBox.vgrow="ALWAYS">
        <Tab text="Diário">
            <VBox spacing="15" style="-fx-padding: 15;">
                <!-- Add Form -->
                <VBox spacing="10" styleClass="card">
                    <Label text="Adicionar Refeição" styleClass="label-subheader"/>
                    
                    <HBox spacing="10" alignment="CENTER_LEFT">
                        <Label text="Pré-definidos:"/>
                        <ComboBox fx:id="foodSelector" promptText="Selecionar Alimento..." onAction="#onFoodSelected" prefWidth="200"/>
                    </HBox>

                    <HBox spacing="10">
                        <TextField fx:id="descriptionField" promptText="Descrição (ex: Pequeno Almoço)" HBox.hgrow="ALWAYS"/>
                        <TextField fx:id="caloriesField" promptText="Kcal" prefWidth="80"/>
                    </HBox>
                    <HBox spacing="10">
                        <TextField fx:id="protField" promptText="Prot (g)" prefWidth="80"/>
                        <TextField fx:id="carbField" promptText="Carb (g)" prefWidth="80"/>
                        <TextField fx:id="fatField" promptText="Gord (g)" prefWidth="80"/>
                        <Button text="Adicionar" onAction="#onAddMeal" styleClass="button-action"/>
                    </HBox>
                    <Label fx:id="statusLabel" styleClass="label-error"/>
                </VBox>

                <!-- List -->
                <Label text="Hoje" styleClass="label-subheader"/>
                <ListView fx:id="mealsList" VBox.vgrow="ALWAYS"/>
            </VBox>
        </Tab>
        <Tab text="Meus Alimentos">
             <!-- Embed Food Database View -->
             <fx:include fx:id="foodDatabase" source="FoodDatabaseView.fxml"/>
        </Tab>
    </TabPane>
</VBox>
